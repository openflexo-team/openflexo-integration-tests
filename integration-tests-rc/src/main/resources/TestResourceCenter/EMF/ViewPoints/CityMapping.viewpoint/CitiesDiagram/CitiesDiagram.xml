<?xml version="1.0" encoding="UTF-8"?>
<VirtualModel id="0" modelVersion="1.0" version="0.1" name="CitiesDiagram" userID="FLX" flexoID="61">
  <FlexoConcept id="1" name="CityGR" userID="FLX" flexoID="10">
    <ShapeRole id="2" exampleLabel="label" cloningStrategy="Clone" cardinality="ZeroOne" name="shape" userID="FLX" flexoID="102">
      <ShapeGraphicalRepresentation id="3" relativeTextY="0.95" locationConstraints="FREELY_MOVABLE" isFloatingLabel="false" adaptBoundsToContents="false" x="159.0" y="74.0" relativeTextX="0.5" dimensionConstraints="FREELY_RESIZABLE" width="80.0" height="80.0" identifier="4f29a766" layer="1" verticalTextAlignment="BOTTOM">
        <SelectedColorBackgroundStyle id="4" color="192,192,192" transparencyLevel="0.5" />
        <ForegroundStyle id="5" color="0,0,0" joinStyle="JOIN_MITER" dashStyle="PLAIN_STROKE" capStyle="CAP_SQUARE" />
        <FocusedColorBackgroundStyle id="6" color="192,192,192" transparencyLevel="0.5" />
        <ShadowStyle id="7" />
        <FocusedForegroundStyle id="8" color="0,0,0" joinStyle="JOIN_MITER" dashStyle="PLAIN_STROKE" capStyle="CAP_SQUARE" />
        <SelectedForegroundStyle id="9" color="0,0,0" joinStyle="JOIN_MITER" dashStyle="PLAIN_STROKE" capStyle="CAP_SQUARE" />
        <ImageBackgroundStyle id="10" scaleX="0.625" scaleY="0.625" fitToShape="true" imageFile="City.png" imageBackgroundColor="255,255,255" imageBackgroundType="TRANSPARENT" transparencyLevel="0.5" />
        <CircleShape id="11" />
        <TextStyle id="12" backgroundColor="255,255,255" color="54,0,255" font="SansSerif.bold,1,20" />
      </ShapeGraphicalRepresentation>
      <GRSpec id="13" featureName="label" readOnly="true" value="city.render" userID="FLX" flexoID="126" />
    </ShapeRole>
    <FlexoConceptInstanceRole id="14" flexoConceptTypeURI="http://www.thalesgroup.com/openflexo/emf/CityMapping/CityMapping#City" cloningStrategy="Reference" cardinality="ZeroOne" name="city" userID="FLX" flexoID="114" />
    <CreationScheme id="15" skipConfirmationPanel="false" name="creation" width="800" label="creation" height="600" userID="FLX" flexoID="4">
      <BehaviourControlGraph_Sequence id="16" userID="FLX" flexoID="76">
        <ControlGraph2_AssignationAction id="17" assign="shape" ownerContext="controlGraph2" userID="FLX" flexoID="79">
          <AssignableAction_AddShape id="18" assignation="shape" userID="FLX" description="" flexoID="12" />
        </ControlGraph2_AssignationAction>
        <ControlGraph1_AssignationAction id="19" assign="city" ownerContext="controlGraph1" userID="FLX" flexoID="77">
          <AssignableAction_ExpressionAction id="20" expression="parameters.city" userID="FLX" flexoID="78" />
        </ControlGraph1_AssignationAction>
      </BehaviourControlGraph_Sequence>
      <GenericBehaviourParameter id="21" widget="CUSTOM_WIDGET" name="city" type="org.openflexo.foundation.fml.FlexoConceptInstanceType&lt;null&gt;" userID="FLX" flexoID="127" />
    </CreationScheme>
    <DeletionScheme id="22" skipConfirmationPanel="false" name="deletion" width="800" label="deletion" height="600" userID="FLX" flexoID="5">
      <BehaviourControlGraph_DeleteAction id="23" object="shape" userID="FLX" flexoID="13" />
    </DeletionScheme>
    <ActionScheme id="24" skipConfirmationPanel="false" name="synchronizeThatCity" width="800" label="synchronizeThatCity" height="600" userID="FLX" flexoID="42">
      <BehaviourControlGraph_Sequence id="25" userID="FLX" flexoID="80">
        <ControlGraph2_ExpressionAction id="26" expression="city.generateModel2FromModel1()" ownerContext="controlGraph2" userID="FLX" flexoID="82" />
        <ControlGraph1_ExpressionAction id="27" expression="city.generateModel1FromModel2()" ownerContext="controlGraph1" userID="FLX" flexoID="81" />
      </BehaviourControlGraph_Sequence>
    </ActionScheme>
    <ActionScheme id="28" skipConfirmationPanel="false" name="ChangeTheName" width="800" label="ChangeTheName" height="600" userID="FLX" flexoID="47">
      <BehaviourControlGraph_Sequence id="29" userID="FLX" flexoID="83">
        <ControlGraph2_AssignationAction id="30" assign="city.cityInModel2.name" ownerContext="controlGraph2" userID="FLX" flexoID="86">
          <AssignableAction_ExpressionAction id="31" expression="parameters.newName" userID="FLX" flexoID="87" />
        </ControlGraph2_AssignationAction>
        <ControlGraph1_AssignationAction id="32" assign="city.cityInModel1.name" ownerContext="controlGraph1" userID="FLX" flexoID="84">
          <AssignableAction_ExpressionAction id="33" expression="parameters.newName" userID="FLX" flexoID="85" />
        </ControlGraph1_AssignationAction>
      </BehaviourControlGraph_Sequence>
      <GenericBehaviourParameter id="34" widget="TEXT_FIELD" name="newName" type="java.lang.String" userID="FLX" flexoID="128" />
    </ActionScheme>
    <Inspector id="35" renderer="(((city.cityInModel1 != null) ? (&quot;SyncCity (1) : &quot; + city.cityInModel1.name) : (&quot;SyncCity (2) : &quot; + city.cityInModel2.name)) + &quot;-&quot;)" inspectorTitle="CityGR" userID="FLX" flexoID="1" />
  </FlexoConcept>
  <DeletionScheme id="36" skipConfirmationPanel="false" name="deletion" width="800" label="deletion" height="600" userID="FLX" flexoID="46" />
  <SynchronizationScheme id="37" skipConfirmationPanel="false" name="synchronize" width="800" label="synchronize" height="600" userID="FLX" flexoID="22">
    <BehaviourControlGraph_IterationAction id="38" iteratorName="cityFC" userID="FLX" flexoID="27">
      <Iteration_SelectFlexoConceptInstance id="39" flexoConceptTypeURI="http://www.thalesgroup.com/openflexo/emf/CityMapping/CityMapping#City" receiver="mappingmodel" ownerContext="iterationControlGraph" userID="FLX" flexoID="29" />
      <ControlGraph_MatchFlexoConceptInstance id="40" creationSchemeURI="http://www.thalesgroup.com/openflexo/emf/CityMapping/CitiesDiagram#CityGR.creation" receiver="virtualModelInstance" ownerContext="controlGraph" userID="FLX" description="" flexoID="34">
        <MatchingCriteria id="41" patternRoleName="shape" userID="FLX" flexoID="37" />
        <MatchingCriteria id="42" patternRoleName="city" value="cityFC" userID="FLX" flexoID="38" />
        <CreateFlexoConceptInstanceParameter id="43" paramName="city" value="cityFC" userID="FLX" flexoID="116" />
      </ControlGraph_MatchFlexoConceptInstance>
    </BehaviourControlGraph_IterationAction>
  </SynchronizationScheme>
  <Inspector id="44" inspectorTitle="CitiesDiagram" userID="FLX" flexoID="23" />
</VirtualModel>
